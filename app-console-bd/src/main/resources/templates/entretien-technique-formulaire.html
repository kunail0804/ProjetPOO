<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nouvel entretien technique</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h1>Nouvel entretien technique</h1>
        
        <p>
            <strong>Véhicule:</strong> 
            <span th:text="${vehicle.marque()}"></span> 
            <span th:text="${vehicle.modele()}"></span>
            (<span th:text="${vehicle.immatriculation()}"></span>)
        </p>
        
        <form th:action="@{'/vehicles/' + ${vehicle.louable().idLouable()} + '/entretiens/nouveau'}" 
              method="post">
            
            <!-- Libellé -->
            <div class="mb-3">
                <label for="libelle" class="form-label">Libellé *</label>
                <input type="text" class="form-control" id="libelle" 
                       th:field="*{libelle}" required maxlength="100"
                       placeholder="Ex: Vidange, Révision, Freins...">
            </div>
            
            <!-- Date d'entretien -->
            <div class="mb-3">
                <label for="dateEntretien" class="form-label">Date de l'entretien *</label>
                <input type="date" class="form-control" id="dateEntretien" 
                       th:field="*{dateEntretien}" required>
            </div>
            
            <!-- Prestataire -->
            <div class="mb-3">
                <label for="prestataire" class="form-label">Prestataire</label>
                <input type="text" class="form-control" id="prestataire" 
                       th:field="*{prestataire}" maxlength="100"
                       placeholder="Ex: Garage Renault, Feu Vert...">
            </div>
            
            <!-- Coût -->
            <div class="mb-3">
                <label for="cout" class="form-label">Coût (€)</label>
                <input type="number" class="form-control" id="cout" 
                       th:field="*{cout}" step="0.01" min="0"
                       placeholder="0,00">
            </div>
            
            <!-- Kilométrage effectué -->
            <div class="mb-3">
                <label for="kilometrageEffectue" class="form-label">Kilométrage effectué</label>
                <input type="number" class="form-control" id="kilometrageEffectue" 
                       th:field="*{kilometrageEffectue}" min="0"
                       placeholder="Ex: 15000">
            </div>
            
            <!-- Pièces changées -->
            <div class="mb-3">
                <label for="piecesChangees" class="form-label">Pièces changées</label>
                <textarea class="form-control" id="piecesChangees" 
                          th:field="*{piecesChangees}" rows="2"
                          placeholder="Liste des pièces changées (séparées par des virgules)"></textarea>
            </div>
            
            <!-- Compte rendu -->
            <div class="mb-3">
                <label for="compteRendu" class="form-label">Compte rendu / Observations</label>
                <textarea class="form-control" id="compteRendu" 
                          th:field="*{compteRendu}" rows="4"
                          placeholder="Détails de l'intervention, observations techniques..."></textarea>
            </div>
            
            <!-- Boutons -->
            <div class="mb-3">
                <button type="submit" class="btn btn-primary">Enregistrer</button>
                <a th:href="@{'/vehicles/' + ${vehicle.louable().idLouable()} + '/entretiens/'}" 
                   class="btn btn-secondary">Annuler</a>
            </div>
        </form>
    </div>
</body>
</html>