<!DOCTYPE html>
<html lang="fr" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout('Connexion', ~{::section})}">
<section class="stack">
  <div class="card card--narrow">
    <h1 class="h1">Connexion</h1>

    <form class="form" th:action="@{/connexion}" method="post">
      <div class="field">
        <label for="role">Type de compte</label>
        <select id="role" name="role" required>
          <option value="" th:selected="${role == null || role == ''}">— Sélectionner —</option>
          <option value="AGENT" th:selected="${role == 'AGENT'}">Agent</option>
          <option value="LOUEUR" th:selected="${role == 'LOUEUR'}">Loueur</option>
          <option value="ENTRETIEN" th:selected="${role == 'ENTRETIEN'}">Entreprise d’entretien</option>
        </select>
      </div>

      <div class="field">
        <label for="email">Email</label>
        <input id="email" type="email" name="email" th:value="${email}" autocomplete="email" required />
      </div>

      <div class="field">
        <label for="password">Mot de passe</label>
        <input id="password" type="password" name="password" autocomplete="current-password" required />
      </div>

      <div class="actions">
        <button class="btn btn--primary" type="submit">Se connecter</button>
        <a class="btn" th:href="@{/inscription}">Créer un compte</a>
      </div>
    </form>
  </div>
</section>
</html>